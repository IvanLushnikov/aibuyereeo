# üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "–ò–ò‚Äë–±–æ—Ç —Å–µ–π—á–∞—Å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω"

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DevTools:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Response –≤–∫–ª–∞–¥–∫—É** –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ `/api/chat`
2. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª—è –≤ –æ—Ç–≤–µ—Ç–µ:**
   - `reason: "circuit_breaker_open"` ‚Üí Circuit breaker –æ—Ç–∫—Ä—ã—Ç
   - `error: "404: ..."` ‚Üí n8n –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
   - `error: "500: ..."` ‚Üí n8n –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500
   - `n8nStatus: 404/500` ‚Üí HTTP —Å—Ç–∞—Ç—É—Å –æ—Ç n8n

## –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è:

### 1. Circuit breaker –æ—Ç–∫—Ä—ã—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npm run dev
```

### 2. n8n webhook –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
**–†–µ—à–µ–Ω–∏–µ:** 
- –û—Ç–∫—Ä–æ–π—Ç–µ n8n ‚Üí –≤–∞—à workflow
- –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "Active" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Production URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö webhook

### 3. n8n webhook –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500
**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫—Ä–æ–π—Ç–µ n8n ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Executions"
- –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∞—è –Ω–æ–¥–∞ –≤—ã–¥–∞–ª–∞ –æ—à–∏–±–∫—É (–æ–±—ã—á–Ω–æ AI Agent –∏–ª–∏ Code node)

### 4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
**–†–µ—à–µ–Ω–∏–µ:** –°–¥–µ–ª–∞–π—Ç–µ hard refresh (Ctrl+Shift+R / Cmd+Shift+R) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
fetch('/api/chat', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    clientId: 'test',
    message: '',
    history: [],
    meta: { isInitial: true }
  })
}).then(r => r.json()).then(console.log)
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏.

