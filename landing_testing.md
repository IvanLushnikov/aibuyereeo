## План тестирования лендинга «Робот Семён»

### 1. Смоук-тесты (локально)
- [x] `npm run lint` — проверка линтером (07.11.2025).
- [x] `npm run build` — убедиться, что сборка проходит без ошибок (07.11.2025).
- [ ] `npm run test` (при появлении юнит-тестов) — зарезервировано.

### 2. E2E-сценарии
1. **Отправка сообщения в чат**
   - Шаги: открыть чат → отправить «нужен монитор 24 дюйма» → получить ответ.
   - Ожидаемое: сообщение уходит, появляется индикатор «думает», ответ приходит, событие фиксируется в `/data/logs/.../chat-*.csv`.
   - Статус: ☐ (выполнить после подключения вебхука).
2. **Таймаут вебхука**
   - Шаги: временно отключить n8n или использовать недоступный URL → отправить сообщение.
   - Ожидаемое: возвращается fallback-ответ, событие `chat_error` записывается в лог.
   - Статус: ☐.
3. **Повторное открытие чата**
   - Шаги: закрыть/открыть виджет → проверить, что история сохраняется в пределах сессии.
   - Статус: ☐.
4. **Форма обратной связи**
   - Шаги: заполнить форму → отправить → получить состояние success → проверить запись в `events-*.csv`.
   - Статус: ☐.

### 3. Нагрузочные проверки
- [ ] Последовательно отправить ≥10 сообщений за 1 минуту (ручной тест) — должно сработать ограничение rate limit (нужна реализация rate limit на бекенде, пока в планах).
- [ ] Одновременные сессии (3 браузера) — убедиться, что логирование корректное и нет гонок.

### 4. UX/доступность
- [ ] Проверка адаптива (320px, 768px, 1440px).
- [ ] Lighthouse/Chrome DevTools — целевой показатель Performance ≥ 85, Accessibility ≥ 90.
- [ ] Проверить `prefers-reduced-motion` — анимации должны выключаться.

### 5. Документация и мониторинг
- [ ] Обновить README проекта с инструкциями запуска, переменными окружения, сценариями тестирования.
- [ ] Настроить алерты n8n при ошибках webhook (TODO после деплоя).

> Примечание: тесты, завязанные на n8n/webhook, выполняются после развертывания workflow и указания `N8N_WEBHOOK_URL`.

